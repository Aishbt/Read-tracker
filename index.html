<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
<title>Read & Grow</title>

<link rel="manifest" href="manifest.json" />
<meta name="theme-color" content="#4E9468" />

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,500;1,400&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;margin:0;padding:0}

:root{
  --bg1:#ffffff;
  --bg2:#faf7f2;
  --card:#ffffffdd;
  --text:#1a1714;
  --soft:#5c5650;
}

body{
  font-family:'Inter',sans-serif;
  background:
    radial-gradient(circle at 20% 10%, #f4f9f6 0%, transparent 40%),
    linear-gradient(180deg,var(--bg1),var(--bg2));
  color:var(--text);
  min-height:100vh;
}

.page{max-width:390px;margin:auto;padding:44px 22px 90px}

.hdr{display:flex;justify-content:space-between;align-items:center}

h1{
  font-family:'Playfair Display',serif;
  font-size:1.8rem;
}
em{color:#4e9468}

.streak{
  background:#ffecc2;
  padding:7px 14px;
  border-radius:999px;
  font-size:.7rem;
  font-weight:700;
}

.plant-wrap{text-align:center;margin:30px 0}

.pot-scene{
  position:relative;
  width:140px;
  height:160px;
  margin:auto;
}
.pot-scene::before{
  content:"";
  position:absolute;
  width:120px;height:120px;
  background:radial-gradient(circle,#eaf5ec 0%,transparent 65%);
  border-radius:50%;
  top:-20px;left:50%;
  transform:translateX(-50%);
}

#plantEl{
  font-size:2.4rem;
  position:relative;
  z-index:2;
}

.plant-label{
  font-size:.6rem;
  letter-spacing:1.2px;
  text-transform:uppercase;
  color:var(--soft);
}

.plant-msg{
  font-family:'Playfair Display',serif;
  font-style:italic;
  font-size:.72rem;
  color:var(--soft);
}

.cal{
  background:var(--card);
  border-radius:22px;
  padding:18px;
  box-shadow:0 8px 24px rgba(0,0,0,.08);
}

.dowrow,.dgrid{display:grid;grid-template-columns:repeat(7,1fr)}
.dow{text-align:center;font-size:.6rem;color:var(--soft)}

.d{
  aspect-ratio:1;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:12px;
  font-weight:600;
}

.future{opacity:.3}
.missed{background:#eee}
.done{background:#d8f0e2}
.today{
  background:#fff3d6;
  cursor:pointer;
  animation:pulse 2s infinite;
}

@keyframes pulse{
  0%,100%{box-shadow:0 0 0 2px #f0ce8840}
  50%{box-shadow:0 0 0 6px #f0ce8815}
}

.overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.45);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:999;
}

.overlay.show{display:flex}

.reveal{
  background:#fff;
  padding:36px;
  border-radius:28px;
  text-align:center;
}
</style>
</head>

<body>

<div class="overlay" id="overlay">
  <div class="reveal">
    <div id="revealPlant" style="font-size:3rem"></div>
    <h2 id="revealName"></h2>
    <p>You showed up every day ğŸŒ±</p>
  </div>
</div>

<div class="page">

  <div class="hdr">
    <h1>Read <em>&</em> Grow</h1>
    <div class="streak" id="streak">ğŸŒ¿ 0 days</div>
  </div>

  <div class="plant-wrap">
    <div class="plant-label" id="plantLabel">something is growingâ€¦</div>
    <div class="pot-scene">
      <div id="plantEl">ğŸŒ±</div>
    </div>
    <div class="plant-msg" id="plantMsg">
      Read every day. Missed days weaken growth.
    </div>
  </div>

  <div class="cal">
    <div class="dowrow">
      <div class="dow">Su</div><div class="dow">Mo</div><div class="dow">Tu</div>
      <div class="dow">We</div><div class="dow">Th</div><div class="dow">Fr</div><div class="dow">Sa</div>
    </div>
    <div class="dgrid" id="grid"></div>
  </div>

</div>

<script>
const N=new Date(),Y=N.getFullYear(),M=N.getMonth(),D=N.getDate();
const dim=(y,m)=>new Date(y,m+1,0).getDate();
const fdow=(y,m)=>new Date(y,m,1).getDay();
const key=(y,m)=>`rg_${y}_${m}`;
const load=()=>JSON.parse(localStorage.getItem(key(Y,M))||"{}");
const save=d=>localStorage.setItem(key(Y,M),JSON.stringify(d));

const pool=[
  ["ğŸª·",""],
  ["ğŸŒ¾",""],
  ["ğŸ€",""],
  ["ğŸŒº",""],
  ["ğŸŒ²",""],
  ["ğŸª´",""],
  ["ğŸŒ¼",""],
  ["ğŸƒ",""],
  ["ğŸŒ¸",""],
  ["ğŸŒ»",""],
  ["ğŸŒ·",""],
  ["ğŸŒ¹",""]
];

const pick=pool[(Y*12+M)%pool.length];

function render(){
 const data=load(),grid=document.getElementById("grid");
 grid.innerHTML="";
 let done=0,missed=0;

 for(let i=0;i<fdow(Y,M);i++)grid.appendChild(document.createElement("div"));

 for(let d=1;d<=dim(Y,M);d++){
  const c=document.createElement("div");
  if(d>D){c.className="d future";c.textContent=d}
  else if(d===D){
    if(data[d]==="done"){c.className="d done";c.textContent=d}
    else{
      c.className="d today";c.textContent=d;
      c.onclick=()=>{data[d]="done";save(data);render()}
    }
  }else{
    c.className="d "+(data[d]==="done"?"done":"missed");
    c.textContent=d;
    data[d]==="done"?done++:missed++;
  }
  grid.appendChild(c);
 }

 document.getElementById("plantEl").textContent=done>missed?"ğŸŒ¿":"ğŸŒ±";

 let streak=0;
 for(let i=D;i>=1;i--){if(data[i]==="done")streak++;else break}
 document.getElementById("streak").textContent=streak?`ğŸ”¥ ${streak} days`:"ğŸŒ¿ 0 days";

 if(D===dim(Y,M)&&missed===0){
   document.getElementById("overlay").classList.add("show");
   document.getElementById("revealPlant").textContent=pick[0];
   document.getElementById("revealName").textContent="";
 }
}

render();
</script>
</body>
</html>
